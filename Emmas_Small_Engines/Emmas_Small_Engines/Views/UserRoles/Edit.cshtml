@model Emmas_Small_Engines.Views.ViewModels.UserVM

@{
    ViewBag.Title = "Admin - Edit Roles";
}

<div class="d-flex flex-row gap-2" style="margin-top:180px;">
    <div class="col-auto flex-grow-1">
        <h3 class="display-4">Administration - Role Assignments</h3>
    </div>
    <div class="vr  align-self-center" style="height: 2.5rem"></div>
    <div class="col-md-auto align-self-center">
        <a title="Back to Home" asp-action="Index" asp-controller="UserRoles" class="btn btn-outline-danger">Back</a>
    </div>
</div>


<hr class="mb-5 mt-0" />
<div class="container shadow p-4 bg-light w-75 bg-gradient">
    <form asp-action="Edit">
    
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <input type="hidden" asp-for="Id" />
        <div class="row ">
            <div class="row d-inline-flex ">
                <div class="col-1">
                    <a title="Info" class=" link link-info" data-bs-toggle="collapse" href="#infoPane" role="button" aria-expanded="false" aria-controls="infoPane">
                        <i class="bi bi-info-circle-fill" style="font-size: 1.2rem;"></i>
                    </a>
                </div>
                <div class="col-auto me-auto">
                    <div class="collapse collapse-horizontal " id="infoPane">
                        <div class="card card-body bg-info  text-white " style="height: 80px;">
                           <h6 class="display-6 fs-6 fw-bold text-wrap">Assign the user's role by clicking the corresponding checkbox. Click "Save Changes" when finished</h6>
                        </div>
                    </div>
                </div>
               
                
            </div>
            <hr class="mt-3 mb-3 mx-auto" />
            <div class="col-md-6">
                
                <div class="input-group">
                    <span class="input-group-text">
                        <label asp-for="UserName" class="control-label"></label>
                    </span>
                    
                    <input asp-for="UserName" class="form-control " disabled readonly="readonly"/>
                    <span asp-validation-for="UserName" class="text-danger"></span>
                </div> 
            </div>
            <div class="col-auto ms-auto">
                <div class="card" style="width: 400px;">
                    <div class="card-header bg-light">
                        <h6 class="display-6 fs-5 "><label asp-for="UserRoles" class="control-label"></label></h6>
                    </div>
                    
                    <div class="card-body">
                        <ul class="list-group">
                            @{
                                int cnt = 0;
                               
                                List<Emmas_Small_Engines.Views.ViewModels.RoleVM> roles = ViewBag.Roles;
                                foreach (var role in roles)
                                {
                                    if (cnt++ % 3 == 0)
                                    {
                                    @:</ul>
                                    }
                                    @:<ul class="list-group">
                                        <li class="list-group-item form-check list-group-item-action">
                                            <input type="checkbox"
                                                   name="selectedRoles"
                                                   value="@role.RoleName"
                                                   @(Html.Raw(role.Assigned ? "checked=\"checked\"" : "")) />
                                            @role.RoleName 
                                        </li>
                                    @:</ul>
                                }
                                @:                                                            
                            } 
                         </ul>
                    </div>
                </div>
            </div>
                <!--<div class="form-group">
                    <label asp-for="UserRoles" class="control-label"></label>
                    <table>
                        <tr>
                            ''{
                                int cnt = 0;
                                List<Emmas_Small_Engines.Views.ViewModels.RoleVM> roles = ViewBag.Roles;
                                foreach (var role in roles)
                                {
                                    if (cnt++ % 3 == 0)
                                    {
                                    '':</tr><tr>
                                    }
                                    '':<td>
                                        <input type="checkbox"
                                               name="selectedRoles"
                                               value="''role.RoleName"
                                               ''(Html.Raw(role.Assigned ? "checked=\"checked\"" : "")) />
                                        ''role.RoleName '':&nbsp;&nbsp;
                                    '':</td>
                                }
                                '':                                                            
                            } 
                        </tr>
                    </table>
                </div>-->
           
       </div>
       <div class="row mt-3 d-flex justify-content-center">
           <div class="col-md-4">
                <div class="form-group">
                   <input type="submit" id="btnSubmit" value="Save Changes" class="btn btn-primary" />                   
                   

                </div>
           </div>
           
       </div>            
        
    
   
    </form>

 </div>
    
   

